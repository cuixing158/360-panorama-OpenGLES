# 360°全景

本项目为Android Studio下工程文件，已实现全景图片，视频的拼接和渲染，还支持手动交互，陀螺仪控制视角！

*本项目中的ffmpeg预编译so库来源于仓库<https://github.com/bookzhan/bzijkPlayer>,较新的ffmpeg预编译库可以参考 <https://github.com/xufuji456/FFmpegAndroid>，但目前集成新的较为困难，依旧使用的是bzijkplayer*

bzijkPlayer版本：

===== versions =====<br>
ijkplayer    : 0.8.8 <br>
FFmpeg       : ff3.4--ijk0.8.7--20180103--001<br>
libavutil    : 55.78.100<br>
libavcodec   : 57.107.100<br>
libavformat  : 57.83.100<br>
libswscale   : 4.8.100<br>
libswresample: 2.9.100<br>

---
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [360°全景](#360全景)
  - [预期对标insta360 x3产品功能(算法实现角度)](#预期对标insta360-x3产品功能算法实现角度)
    - [软件对标](#软件对标)
    - [拍摄模式对标](#拍摄模式对标)
    - [支持画中画对标](#支持画中画对标)
    - [支持直播对标](#支持直播对标)
    - [支持视角对标](#支持视角对标)
    - [防抖对标](#防抖对标)
    - [预录制对标](#预录制对标)
    - [切换模式支持对标](#切换模式支持对标)
    - [拍摄模式参数对标](#拍摄模式参数对标)
  - [References](#references)

<!-- /code_chunk_output -->

## 预期对标insta360 x3产品功能

除了360运动相机本身硬件和系统操控的一套交互环境软件外，还提供对应APP和桌面Studio软件，主要功能是供拍摄后的视频图像进行后期剪辑，期望达到预期的视觉“电影大片”效果。

### 软件对标

|功能|insta360-X3|our|说明|
|:----:|:----:|:----:|:----:|
|Android APP|Insta360™ App|开发中|完成了3种基础模式及手动切换，实时连接相机拼接预览|
|IOS APP|Insta360™ App|开发中|完成了3种基础模式及手动切换|
|桌面Studio|Insta360™ Studio|暂无|是否对标？需要开发Windows或者mac os的程序|

 **对于APP的实现视频的变速、视角变换、裁剪、音量调节、多段拼接、滤镜、调色均可以实现**
 **insta360有涉及到AI视频编辑，这个功能首个版本暂时不考虑开发，为了产品快速上线**

上述软件包含以下各种功能细节对标：

### 拍摄模式对标

- 全景模式：

|功能|insta360-X3|our|说明|
|:----:|:----:|:----:|:----:|
|照片模式|标准拍照、HDR照片、间隔拍照、星空延时、连拍|暂无|设备上实现？HDR照片需要设备曝光不同时间的一系列照片，算法做融合，其它类型容易实现|
|视频模式|普通录像、运动HDR录像、延时摄影、移动延时、子弹时间、循环录影|暂无|设备上实现？其中子弹时间需要设备具有高分辨率，高帧率录制功能，运动HDR录像需要设备曝光不同时间的一系列照片，算法做融合，其它类型容易实现|

- 单镜头：

|功能|insta360-X3|our|说明|
|:----:|:----:|:----:|:----:|
|照片模式|标准拍照|暂无|我们硬件设备固有支持？|
|视频模式|普通录像、跟拍模式、循环录影|暂无|其中跟拍模式我们应当在全景模式下做？|

- 支持的分辨率和帧率

|功能|insta360-X3|our|说明|
|:----:|:----:|:----:|:----:|
|照片分辨率|7200 万像素 (11968×5984) <br> 1800 万像素 (5952×2976)|暂无|我们硬件设备是否支持？|
|视频分辨率|全景模式： <br>5.7K：5760*2880@30/25/24fps  <br>4K：3840*1920@60/50/30/25/24fps  <br>3K  <br>3008*1504@100fps <br>单镜头： <br>4K：3840×2160@30/25/24fps <br>3.6K：3584×2016@60/50/30/25/24fps <br>2.7K2720×1530@60/50/30/25/24fps <br>1080P：1920×1088@60/50/30/25/24fps|暂无|我们硬件设备是否支持？|

- 照片文件格式

|功能|insta360-X3|our|说明|
|:----:|:----:|:----:|:----:|
|INSP|标准拍照|暂无|影石的可通过 Insta360 App 或 Studio 导出，那么我们对标是否独立创造一种新格式(本质记录元数据信息)？|
|DNG RAW|标准拍照|暂无|影石的PureShot 照片模式仅支持在 PC/Mac 端编辑|

- 视频文件格式

|功能|insta360-X3|our|说明|
|:----:|:----:|:----:|:----:|
|单镜头mp4|广角视频|暂无|我们硬件设备固有支持？|
|全景模式INSV|360度全景视频|暂无|影石相机自动保存的格式，那么我们对标是否独立创造一种新格式(本质记录元数据信息)？|

### 支持画中画对标

- [x] insta360-X3
- [x] our(技术上可以实现，图像叠加)

### 支持直播对标

|功能|insta360-X3|our|说明|
|:----:|:----:|:----:|:----:|
|全景直播|支持快手APP,Facebook APP,YouTube APP,不支持微信|暂无|影石通过使用手机连接Insta 360 App发起直播，还支持连接电脑，作为网络会议摄像头 (Webcam)使用，我们技术上应该可以实现，推拉流？|
|平面直播|支持快手APP,Facebook APP,YouTube APP,不支持微信|暂无|影石通过使用手机连接Insta 360 App发起直播，还支持连接电脑，作为网络会议摄像头 (Webcam)使用，我们技术上应该可以实现，推拉流？|

### 支持视角对标

|功能|insta360-X3|our|说明|
|:----:|:----:|:----:|:----:|
|标准FOV|超广角，运动广角，广角，线性|暂无|技术上可以实现|
|FOV+|极广角+，超广角+，运动广角+，广角+，线性+|暂无|技术上可以实现|
|跟拍模式|极广角+，超广角+，运动广角+（仅适用于 9:16），广角+，线性+|暂无|技术上可以实现|

### 防抖对标

|功能|insta360-X3|our|说明|
|:----:|:----:|:----:|:----:|
|防抖|FlowState 超级防抖|暂无|技术上应该可以实现，有难度|

### 预录制对标

|功能|insta360-X3|our|说明|
|:----:|:----:|:----:|:----:|
|预录制| 15秒 或 30 秒的预录制时长|暂无|技术上可以实现|

### 切换模式支持对标

- 全镜头录像

|功能|insta360-X3|our|说明|
|:----|:----|:----|:---:|
|普通录像| 拍摄全景模式视频。|暂无|以完成实时拼接全景预览|
|运动 HDR| 录制高动态范围的运动防抖视频。在强光或逆光环境下，可保留更多高光和阴影细节，呈现更真实的视觉效果。|暂无|暂定|
|移动延时| 适合移动时拍摄的延时录像。|暂无|还未实现|
|循环录影| 可连续录制视频，但只保留最新一段时间的视频，节省存储空间。此模式适合于你正在等待某些瞬间的场景，但是你不确定何时会发生。|暂无|设备固有支持？|
| 子弹时间| 360° 旋转的时间凝固慢动作视频。可搭配子弹时间配件或者绳盒拍摄出电影级别的低空环绕子弹时间特效大片。|暂无|技术上可以实现，前提需要高分辨率，高帧率拍摄+拍摄者360环绕自拍杆配合实现|
| 延时摄影| 适合静态使用的 8K 全景延时录像。|暂无|设备支持？|

- 全镜头拍照

|功能|insta360-X3|our|说明|
|:----|:----|:----|:---:|
|普通拍照| 单拍或倒计时拍摄全景模式照片。|暂无|设备固有支持？|
|HDR 拍照| 拍摄高动态范围的照片。|暂无|暂定|
| 间隔拍照| 按特定间隔时间持续拍照。|暂无|技术上可以实现|
|星空模式| 多张照片合成的星轨效果视频。|暂无|暂定|
| Burst 连拍| 快速连拍 9 张照片。|暂无|技术上可以实现|

- 单镜头录像

|功能|insta360-X3|our|说明|
|:----|:----|:----|:---:|
|普通录像| 拍摄广角视频。|暂无|设备固有支持？|
|HDR 拍照| 拍摄高动态范围的照片。|暂无|暂定|
| 跟拍模式| 录制隐藏自拍杆的广角 60 帧防抖视频。跟拍模式可让您直接拍摄固定视角的第三人称视频（如Vlog、滑雪），无需后期重取景 360° 视频，同时支持隐形自拍杆效果。|暂无|需要拍摄者配合可实现|
|循环录影| 可连续录制视频，但只保留最新一段时间的视频，节省存储空间。此模式适合于你正在等待某些瞬间的场景，但是你不确定何时会发生。|暂无|设备固有支持？|

- 单镜头拍照

|功能|insta360-X3|our|说明|
|:----|:----|:----|:---:|
| 普通拍照|单拍或倒计时拍摄广角照片。|暂无|设备固有支持？|

### 拍摄模式参数对标

- 全景模式

| 拍摄模式     | 画面比例 | 分辨率/帧率         | 时间|our|说明                                      |  
| ------------ | -------- | ------------------- | ----------------------------------------- |  ---|---|
| 普通拍照     | 2:1      | 72MP <br>   18MP | 拍摄倒计时：关闭/3/5/10/15 秒  |  暂无|设备固有支持？|
| 普通录像     | /        | 5.7K@30/25/24fps<br> 4K@60/30fps     | /   | 暂无|设备固有支持？|
| 运动 HDR     | /        | 5.7K@30/25/24fps    | /   | 暂无|暂定|
| 延时摄影     | /        | 8K@30/25/24fps <br> 5.7K@30/25/24fps     | 间隔时长：0.2/0.5/1/2/4/10/30/60/120 秒  |  暂无|技术上可以实现|
| 移动延时     | /        | 5.7K@30/25/24fps    | /      |   暂无|技术上可以实现|
| 子弹时间     | /        | 4K@120fps  <br> 3K@180fps    | /    |  暂无|技术上可以实现，拍摄者需要配合|
|循环录影      | /        | 5.7K@30/25/24fps <br> 4K@60/30fps   | 循环时长：1/3/5/10/15/20/25/30 分钟| 暂无|技术上可以实现|
| 星空模式     | 2:1      | 18MP    | 拍摄倒计时：关闭    |  暂无|我暂定|
| Burst 连拍   | 2:1      | 18MP      | 拍摄倒计时：关闭/3 秒/5 秒/10 秒/15 秒   |暂无|暂定|  
| 间隔拍照     | 2:1      | 72MP  <br>    18MP | 间隔时长：3/5/10/30/60/120 秒   | 暂无|技术上可以实现|
| HDR 拍照     | 2:1      | 18MP   | 拍摄倒计时：关闭/3 秒/5 秒/10 秒/15 秒   |暂无|暂定|

- 单镜头模式

| 拍摄模式                                                                             | 画面比例          | 分辨率/帧率                                                                                              | 时间                                      | 视角                                               |  our|说明
| ------------------------------------------------------------------------------------ | ----------------- | --------------------------------------------------------------------------------------------------------- | ----------------------------------------- | -------------------------------------------------- |   ---|---|
| 普通拍照                                                                             | 16:9<br>1:1<br>9:16 | 36MP<br>9MP   | 拍摄倒计时：关闭/3 秒/5 秒/10 秒/15 秒 | 超广角（UW）/广角（W）/线性（L）|   暂无|设备固有支持？|
| 普通录像（默认 FOV 模式：直接录制有 FlowState 防抖效果的视频，无需 App/Studio 再次处理） | 16:9<br>9:16     | 4K@30/25/24fps<br>3.6K@60/50/30/25/24fps<br>2.7K@60/50/30/25/24fps<br>1080P@60/50/30/25/24fps  | /  | 超广角（UW）/广角（W）/线性（L）  |  暂无|设备固有支持？|
| 普通录像（FOV+ 模式：需要在 App 或 Studio 进行后期防抖处理，支持再次调整画面比例、水平锁定等） | 16:9<br>9:16      | 2.7K@60/50/30/25/24fps<br>1080P@60/50/30/25/24fps    | /  | 极广角（MAX）/超广角+（UW）/运动广角+（ACT）/广角+（W）/线性+（L） |   暂无|设备固有支持？|
| 自拍模式     | 16:9<br>9:16      | 1080P@60/30fps    | /      | 极广角（MAX）/超广角（UW）/运动广角（ACT）/广角（W）/线性（L）  |   暂无|设备固有支持？|
| 循环录影（默认 FOV 模式） | 16:9<br>9:16      | 4K@30/25/24fps<br>3.6K@60/50/30/25/24fps<br>2.7K@60/50/30/25/24fps<br>1080P@60/50/30/25/24fps        | 间隔时长：1/3/5/10/15/20/25/30 分钟     | 超广角（UW）/广角（W）/线性（L）                  |   暂无|设备固有支持？|
| 循环录影（FOV+ 模式：需要在 App 或 Studio 进行后期防抖处理，支持再次调整画面比例、水平锁定等） | 16:9<br>9:16      | 2.7K@60/50/30/25/24fps<br>1080P@60/50/30/25/24fps    | 间隔时长：1/3/5/10/15/20/25/30 分钟     | 极广角（MAX）/超广角+（UW）/运动广角+（ACT）/广角+（W）/线性+（L） | 暂无|设备固有支持？|

## References

[insta360-X3官方手册](https://onlinemanual.insta360.com/x3/zh-cn/camera/firstuse/introduction)
